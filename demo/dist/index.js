"use strict";(()=>{var x=e=>Object.entries(e).map(([n,t])=>t&&n),T=e=>!!e,h=(e,n,t)=>t.indexOf(e)===n,L=[];function d(e){return e?typeof e=="string"?[e]:Array.isArray(e)?e.flatMap(d).filter(T):x(e).filter(T):L}function C(e){let n=d(e).filter(h);return n.length>0?n.join(" "):void 0}function v(e,n){for(let t of Object.keys(e))t in n&&(n[t]=e[t])}var A=/^on\p{Lu}/u;function p(e,n){for(let t of Object.keys(n)){if(t==="__source"||t==="__self"||t==="tsxTag")continue;let s=n[t];if(t==="class"){let r=C(s);r&&e.setAttribute(t,r)}else if(t==="ref")s.current=e;else if(A.test(t)){let r=t.replace(/Capture$/,""),c=t!==r,m=r.toLowerCase().substring(2);e.addEventListener(m,s,c)}else t==="style"&&typeof s!="string"?v(s,e.style):t==="dangerouslySetInnerHTML"?e.innerHTML=s:s===!0?e.setAttribute(t,t):(s||s===0)&&e.setAttribute(t,s.toString())}}function M(e,n){n instanceof Element?e.appendChild(n):typeof n=="string"||typeof n=="number"?e.appendChild(document.createTextNode(n.toString())):console.warn("Unknown type to append: ",n)}function a(e,n){for(let t of n)!t&&t!==0||(Array.isArray(t)?a(e,t):M(e,t))}function f(e,n){let t=n?.is?{is:n.is}:void 0;return n?.xmlns?document.createElementNS(n.xmlns,e,t):document.createElement(e,t)}function u(e,n){let t=e,s=n;return s&&"tsxTag"in s&&(t=s.tsxTag,!s.is&&e.includes("-")&&(s={...s,is:e})),{finalTag:t,finalAttrs:s}}var l=()=>({current:null});function o(e,n){if(typeof e=="function")return e(n);let{children:t,...s}=n,{finalTag:r,finalAttrs:c}=u(e,s),m=f(r,c);return p(m,c),a(m,[t]),m}function y(e,n,t){return customElements.define(e,n,t),s=>o(e,s)}var E=y("my-custom-element",class extends HTMLElement{connectedCallback(){console.log("connected"),this.textContent="I could use a little social interaction.";let e=this.getAttribute("activeColor");e&&this.setAttribute("style",`--active-color: ${e}`),this.observer=new IntersectionObserver(([n])=>this.setIntersecting(n.isIntersecting)),this.observer.observe(this)}disconnectedCallback(){this.observer?.disconnect()}setText(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.textContent=e},2e3)}setIntersecting(e){e!==this.classList.contains("active")&&(console.log("intersecting",e),this.classList.toggle("active",e),this.setText(e?"I'LL HUNT YOU DOWN AND GUT YOU LIKE A FISH!":"I'm all toasty inside."))}});var i=({label:e,checked:n})=>{let t=l();return o("li",{class:`todo-list-entry${n?" checked":""}`,ref:t,children:[o("span",{class:"label",title:"Click to toggle",onClick:()=>t.current?.classList.toggle("checked"),children:e}),o("button",{class:"remove",onClick:()=>t.current?.remove(),type:"button",title:"Remove",children:"x"})]})};var b=()=>{let e=l(),n=l(),t=l();return o("ul",{class:"todo-list",ref:n,children:[o(i,{label:"Make cookies",checked:!1}),o(i,{label:"Go to Christmas party",checked:!1}),o(i,{label:"Wish everyone a merry Christmas",checked:!1}),o(i,{label:"Dress up like Santa",checked:!0}),o(i,{label:"Ignore 1-3",checked:!0}),o(i,{label:"Steal Christmas",checked:!0}),o("li",{ref:t,children:o("form",{class:"todo-list-form",onSubmit:r=>{r.preventDefault(),r.stopPropagation(),e.current?.value&&(n.current?.insertBefore(o(i,{label:e.current.value,checked:!1}),t.current),e.current.value="")},children:[o("input",{class:"todo-list-new-entry",placeholder:"Add a new entry...",ref:e}),o("button",{children:"+"})]})})]})};var g=()=>o("div",{children:[o("h2",{children:"GRINCH TO DO LIST"}),o(b,{}),o("h2",{children:"Custom Elements Demo"}),o("div",{style:{height:"800px"},children:[o("p",{children:"Scroll down... you'll see a bar, which starts growing angry and changing color once in view. "}),o("p",{children:"Don't worry. When you scroll up again, it returns to its calm state."})]}),o(E,{activeColor:"red"})]});var I=o(g,{});document.body.appendChild(I);})();
